<div>
    <div v-if="initialized" class="region width2">
        <div class="block gutter">
            <h1 class="page-heading">Running Cashgame</h1>
        </div>

        <div class="button-list" v-if="areButtonsVisible">
            <game-button text="Report" icon="reorder" v-if="canReport" v-on:click.native="showReportForm"></game-button>
            <game-button text="Buy In" icon="money" v-if="canBuyin" v-on:click.native="showBuyinForm"></game-button>
            <game-button text="Cash Out" icon="signout" v-if="canCashout" v-on:click.native="showCashoutForm"></game-button>
        </div>

        <div class="block gutter">
            <report-form v-if="reportFormVisible" v-bind:stack="currentStack" v-bind:is-active="reportFormVisible"></report-form>
            <buyin-form v-if="buyinFormVisible" v-bind:stack="beforeBuyinStack" v-bind:amount="buyinAmount" v-bind:is-active="buyinFormVisible" v-bind:is-in-game="isInGame"></buyin-form>
            <cashout-form v-if="cashoutFormVisible" v-bind:stack="currentStack" v-bind:is-active="cashoutFormVisible"></cashout-form>
        </div>

        <div class="standings block gutter" v-if="hasPlayers">
            <player-table v-bind:players="sortedPlayers" v-bind:currency-format="currencyFormat"></player-table>
        </div>
        <div class="block gutter" v-else>
            No one has joined the game yet.
        </div>

        <div class="block gutter" v-if="hasPlayers">
            <game-chart v-bind:players="players"></game-chart>
        </div>
    </div>
    <spinner v-else></spinner>

    <div class="region width1 aside2">
        <div class="block gutter">
            <dl class="value-list">
                <dt class="value-list__key" v-if="hasPlayers">Start Time</dt>
                <dd class="value-list__value" v-if="hasPlayers">{{startTime}}</dd>
                <dt class="value-list__key">Location</dt>
                <dd class="value-list__value"><a v-bind:href="locationUrl">{{locationName}}</a></dd>
                <dt class="value-list__key" v-if="isManager">Player</dt>
                <dd class="value-list__value" v-if="isManager">
                    <player-dropdown v-bind:player-id="playerId" v-bind:players="bunchPlayers"></player-dropdown>
                </dd>
            </dl>
        </div>
    </div>
</div>