@using Web.Extensions
@using Web.Models.PageBaseModels
@model Web.Models.AppModels.Details.ApiDocsPageModel

@{
    Layout = PageLayout.OneColumn;
}

@foreach (var section in Model.Sections)
{
    @Html.RenderModel(section)
}

<div class="block gutter">
    <h1 class="module-heading">Game Status</h1>
</div>
<div class="block gutter">
    <p>To get information about a running game, your application needs to call <a href="@Model.RunningGameUrl">@Model.RunningGameUrl</a>. The slug is the short name for your user's bunch. It's the same that appears in urls on the pokerbunch web site.</p>
    <p>If there is a game running, you will get the current results for it.</p>
    <p>It there is no game running, you will get a 204 NO CONTENT response.</p>
</div>

<div class="block gutter">
    <h1 class="module-heading">Buying in</h1>
</div>
<div class="block gutter">
    <p>To enter a player into a game, or to add money for a player, you post to <a href="@Model.BuyinUrl">@Model.BuyinUrl</a>.</p>
    <p>
        Send the following POST parameters:<br />
        playerid = {the player id}<br />
        amount = {the amount to add}<br />
        stack = {optional remaining money in stack before buyin}<br />
    </p>
</div>

<div class="block gutter">
    <h1 class="module-heading">Reporting</h1>
</div>
<div class="block gutter">
    <p>To report a players stack size, you post to <a href="@Model.ReportUrl">@Model.ReportUrl</a>.</p>
    <p>
        Send the following POST parameters:<br />
        playerid = {the player id}<br />
        stack = {the players stack}<br />
    </p>
</div>

<div class="block gutter">
    <h1 class="module-heading">Cashing out</h1>
</div>
<div class="block gutter">
    <p>To report a players stack and leave the game size, you post to <a href="@Model.CashoutUrl">@Model.CashoutUrl</a>.</p>
    <p>Cashing out is the same thing as reporting, except that you also leave the game. If you need to correct the cashout stack, just post again and the previous cashout will be overwritten.</p>
    <p>
        Send the following POST parameters:<br />
        playerid = {the player id}<br />
        stack = {the players stack}<br />
    </p>
</div>