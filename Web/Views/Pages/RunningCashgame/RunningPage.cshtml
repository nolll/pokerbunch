@using Web.Models.PageBaseModels
@model Web.Models.CashgameModels.Running.IRunningCashgamePageModel

@{
    Layout = PageLayout.OneColumn;
}

<div data-require="running-cashgame-vue">
    {{message}}
</div>

<div data-require="running-cashgame" data-url="@Model.GameDataUrl" data-bind="template: { name: 'running-cashgame-template' }">
    @Html.Partial("~/Views/Misc/Spinner.cshtml")
</div>

<script type="text/html" id="running-cashgame-template">
    <div class="region width2">
        <div class="block gutter">
            <h1 class="page-heading">Running Cashgame</h1>
        </div>

        <div class="button-list" data-bind="visible: areButtonsVisible">
            @Html.Partial("~/Views/Pages/RunningCashgame/Buttons.cshtml")
        </div>

        <div class="block gutter">
            @Html.Partial("~/Views/Pages/RunningCashgame/Forms.cshtml")
        </div>

        <div class="standings block gutter" data-bind="visible: hasPlayers">
            @Html.Partial("~/Views/Pages/RunningCashgame/Table.cshtml")
        </div>

        <div class="block gutter" data-bind="visible: noPlayers">
            No one has joined the game yet.
        </div>

        <div class="block gutter" data-bind="visible: hasPlayers">
            <div data-bind="gameChart: players"></div>
        </div>
    </div>

    <div class="region width1 aside2">
        <div class="block gutter">
            <dl class="value-list">
                <dt class="value-list__key" data-bind="visible: hasPlayers">Start Time</dt>
                <dd class="value-list__value" data-bind="visible: hasPlayers, text: startTime"></dd>
                <dt class="value-list__key">Location</dt>
                <dd class="value-list__value"><a data-bind="text: locationName, attr: {href: locationUrl}"></a></dd>
                <dt class="value-list__key" data-bind="visible: isManager">Player</dt>
                <dd class="value-list__value" data-bind="visible: isManager"><select data-bind="options: bunchPlayers, optionsText: 'name', optionsValue: 'id', value: playerId"></select></dd>
            </dl>
        </div>
    </div>
</script>